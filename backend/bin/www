#!/usr/bin/env node

/**
 * Module dependencies.
 */

var app = require('../app');
var debug = require('debug')('node-jwt:server');
var https = require('https');
var http = require('http');
var fs = require("fs")
/**
 * Get port from environment and store in Express.
 */

// var port = normalizePort(process.env.PORT || '4000');
// app.set('port', port);

/**
 * Create HTTP server.
 */
// const options = {
//   key: fs.readFileSync(`${__dirname}/private.key`),
//   cert: fs.readFileSync(`${__dirname}/certificate.crt`)
// }

const options = {
  key: fs.readFileSync(`${__dirname}/selfsigned.key`),
  cert: fs.readFileSync(`${__dirname}/selfsigned.crt`)
}

var httpsServer = https.createServer(options, app);
var httpServer = http.createServer(app) ;
/**
 * Listen on provided port, on all network interfaces.
 */

var port = 443 ;

httpsServer.listen(5000);
httpServer.listen(4000);